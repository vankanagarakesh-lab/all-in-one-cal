<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Probability Graphs</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

<style>
body{
  margin:0;
  background:#0f1115;
  color:white;
  font-family:Arial;
  text-align:center;
}
select,input,button{
  width:90%;
  max-width:320px;
  padding:10px;
  margin:6px;
  font-size:16px;
}
#graph{
  width:100%;
  height:420px;
}
.note{
  font-size:14px;
  opacity:0.85;
}
</style>
</head>

<body>

<h2>ðŸ“Š Probability Graphs</h2>

<select id="graphType" onchange="toggleInputs()">
  <option value="pdf">PDF (Normal)</option>
  <option value="cdf">CDF (Normal)</option>
  <option value="normal">Normal Distribution</option>
  <option value="binomial">Binomial Distribution</option>
  <option value="poisson">Poisson Distribution</option>
</select>

<input id="mean" placeholder="Mean (Î¼)" value="0">
<input id="std" placeholder="Std Deviation (Ïƒ)" value="1">
<input id="n" placeholder="Trials (n)" value="10" style="display:none">
<input id="p" placeholder="Probability (p)" value="0.5" style="display:none">
<input id="lambda" placeholder="Lambda (Î»)" value="3" style="display:none">

<button onclick="draw()">Draw Graph</button>

<div id="graph"></div>

<p class="note">
Hover â†’ values<br>
Auto scale enabled
</p>

<script>
function toggleInputs(){
  let t=document.getElementById("graphType").value;
  mean.style.display=std.style.display="none";
  n.style.display=p.style.display="none";
  lambda.style.display="none";

  if(t==="pdf"||t==="cdf"||t==="normal"){
    mean.style.display=std.style.display="block";
  }
  if(t==="binomial"){
    n.style.display=p.style.display="block";
  }
  if(t==="poisson"){
    lambda.style.display="block";
  }
}

function normalPDF(x,mu,s){
  return (1/(s*Math.sqrt(2*Math.PI)))*
         Math.exp(-0.5*Math.pow((x-mu)/s,2));
}

function normalCDF(x,mu,s){
  return 0.5*(1+Math.erf((x-mu)/(s*Math.sqrt(2))));
}

function factorial(n){
  return n<=1?1:n*factorial(n-1);
}

function draw(){
  let type=graphType.value;
  let x=[],y=[];
  
  if(type==="pdf"||type==="normal"){
    let mu=+mean.value,s=+std.value;
    for(let i=mu-4*s;i<=mu+4*s;i+=0.1){
      x.push(i);
      y.push(normalPDF(i,mu,s));
    }
  }
  else if(type==="cdf"){
    let mu=+mean.value,s=+std.value;
    for(let i=mu-4*s;i<=mu+4*s;i+=0.1){
      x.push(i);
      y.push(normalCDF(i,mu,s));
    }
  }
  else if(type==="binomial"){
    let N=+n.value,P=+p.value;
    for(let k=0;k<=N;k++){
      x.push(k);
      y.push(
        factorial(N)/(factorial(k)*factorial(N-k))*
        Math.pow(P,k)*Math.pow(1-P,N-k)
      );
    }
  }
  else if(type==="poisson"){
    let l=+lambda.value;
    for(let k=0;k<=20;k++){
      x.push(k);
      y.push(Math.pow(l,k)*Math.exp(-l)/factorial(k));
    }
  }

  Plotly.newPlot("graph",[{
    x:x,
    y:y,
    type:"scatter",
    mode:type==="binomial"||type==="poisson"?"markers+lines":"lines"
  }],{
    paper_bgcolor:"#0f1115",
    plot_bgcolor:"#0f1115",
    font:{color:"white"},
    xaxis:{title:"x"},
    yaxis:{title:"Probability"}
  });
}

toggleInputs();
draw();
</script>

</body>
</html>
